(this["webpackJsonpweek5-assignment"]=this["webpackJsonpweek5-assignment"]||[]).push([[0],{15:function(e,t,a){},27:function(e,t,a){e.exports=a(40)},32:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(23),l=a.n(s),c=(a(32),a(2)),o=a(3),i=a(5),m=a(4),u=a(26),h=a(10),p=(a(15),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("header",{className:"navBar"},r.a.createElement("nav",null,r.a.createElement("div",{className:"navItem"},r.a.createElement(h.b,{to:"/"},r.a.createElement("h2",null,"Superhero Finder"))),r.a.createElement("ul",null,r.a.createElement(h.b,{to:"/"},r.a.createElement("li",null,"Home")),r.a.createElement(h.b,{to:"/favorites"},r.a.createElement("li",null,"Favorites")))))}}]),a}(r.a.Component)),d=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState({query:e.target.value})},n.search=function(e){e.preventDefault(),n.props.searchHeroes(n.state.query),n.setState({query:""})},n.state={query:""},n}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.search},r.a.createElement("input",{type:"text",name:"query",onChange:this.handleChange,value:this.state.query}),r.a.createElement("button",{placeholder:"Enter a name to search...",type:"submit"},"Search")))}}]),a}(n.Component);function E(e){return r.a.createElement("div",{className:"heroBanner"},r.a.createElement("div",{className:"overlay"}),r.a.createElement("div",{className:"heading"},r.a.createElement("h1",null,"SUPERHERO FINDER"),r.a.createElement(d,{searchHeroes:e.searchHeroes})),r.a.createElement("img",{src:"http://www.psdgraphics.com/file/grunge-halftone.jpg",alt:""}))}var g=a(13),v=a(14),f=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).addDefaultSrc=function(e){e.target.src="http://cdn.collider.com/wp-content/uploads/2018/06/big-hero-6-the-series-11.jpg"},e.createSlug=function(e,t){return"/hero/".concat(t,"/").concat(e.split(" ").join("-"))},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.id,n=e.publisher,s=e.image,l=e.isFavorite;return r.a.createElement("div",{className:"characterCard"},r.a.createElement(h.b,{to:this.createSlug(t,a),className:"characterImage"},r.a.createElement("img",{onError:this.addDefaultSrc,src:s,alt:t})),r.a.createElement("div",{className:"comicPill"},n),r.a.createElement("div",{className:"characterName"},r.a.createElement("h2",null,t)),l?r.a.createElement("div",{onClick:this.props.removeFavorite.bind(this,a),className:"removeFavorite"},r.a.createElement(g.a,{icon:v.c})):null)}}]),a}(r.a.Component);var b=function(){return r.a.createElement("div",{className:"spinner"},r.a.createElement("p",null,"Loading..."),r.a.createElement(g.a,{icon:v.a,spin:!0}))},w=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.nextPage,a=e.prevPage,n=e.totalPages,s=e.currentPage,l={color:"black",backgroundColor:"white",borderRadius:"2px"};return r.a.createElement(r.a.Fragment,null,n>1?r.a.createElement("nav",{className:"pagination"},r.a.createElement("ul",null,r.a.createElement("li",{onClick:a},"Previous"),r.a.createElement("li",{style:s-1===0?l:null},s-1===0?s:s+1<=n?s-1:s-2),r.a.createElement("li",{style:s-1>0&&s+1<=n?l:null},s-1===0?s+1:s+1<=n?s:s-1),r.a.createElement("li",{style:s===n?l:null},s-1===0?s+2:s+1<=n?s+1:s),r.a.createElement("li",{onClick:t},"Next"))):null)}}]),a}(n.Component),N=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"popularPublishers"},r.a.createElement("div",{onClick:this.props.searchByPublisher.bind(this,"Marvel Comics"),className:"publisher"},r.a.createElement("p",null,"Marvel Comics")),r.a.createElement("div",{onClick:this.props.searchByPublisher.bind(this,"DC Comics"),className:"publisher"},r.a.createElement("p",null,"DC Comics")),r.a.createElement("div",{onClick:this.props.searchByPublisher.bind(this,"Dark Horse Comics"),className:"publisher last"},r.a.createElement("p",null,"Dark Horse Comics")))}}]),a}(n.Component),y=a(1),O=a.n(y);function j(e){return r.a.createElement("div",{className:"modal"},r.a.createElement("p",null,e.message))}j.propType={message:O.a.string};var S=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).fetchData=function(e){n.setState({isLoading:!0});fetch("https://www.superheroapi.com/api.php/".concat("3036462383041704","/search/").concat(e)).then((function(e){return e.json()})).then((function(e){"error"===e.response&&n.showModal(e.error);for(var t=[];e.results.length;)t.push(e.results.splice(0,25));n.setState({data:t,savedData:t,totalPages:t.length,isLoading:!1})})).catch((function(e){n.setState({isLoading:!1}),n.showModal("Oops, something went wrong. Please try again!")}))},n.searchByPublisher=function(e){n.setState({isLoading:!0});var t=[];n.state.savedData.forEach((function(e){return t.push.apply(t,Object(u.a)(e))}));for(var a=t.filter((function(t){return t.biography.publisher===e})),r=[];a.length;)r.push(a.splice(0,25));n.setState({data:r,totalPages:r.length,isLoading:!1})},n.nextPage=function(){n.state.currentPage+1<=n.state.totalPages&&n.setState({currentPage:n.state.currentPage+1})},n.prevPage=function(){n.state.currentPage-1>0&&n.setState({currentPage:n.state.currentPage-1})},n.showModal=function(e){n.setState({showModal:!0,modalMessage:e}),n.closeModal()},n.closeModal=function(){window.setTimeout((function(){n.setState({showModal:!1})}),1500)},n.state={isLoading:!0,data:{},savedData:{},errMess:"",currentPage:1,totalPages:1,modalMessage:""},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.fetchData("t")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(p,null),r.a.createElement(E,{searchHeroes:this.fetchData}),r.a.createElement(N,{searchByPublisher:this.searchByPublisher}),this.state.isLoading?r.a.createElement(b,null):null,this.state.showModal?r.a.createElement(j,{message:this.state.modalMessage}):null,r.a.createElement("main",{className:"cardContainer"},this.state.isLoading?null:this.state.data[this.state.currentPage-1].map((function(e){return r.a.createElement(f,{key:e.id,name:e.name,id:e.id,isFavorite:!1,publisher:e.biography.publisher,image:e.image.url})}))),r.a.createElement(w,{currentPage:this.state.currentPage,totalPages:this.state.data.length,nextPage:this.nextPage,prevPage:this.prevPage}))}}]),a}(n.Component),k=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e={background:"black",color:"#fff"},t={background:"#fff",color:"black"},a=this.props.selected;return r.a.createElement("div",{className:"statsBar"},r.a.createElement("div",{onClick:this.props.changeStats.bind(this,"appearance"),style:"appearance"===a?e:t,className:"stats"},r.a.createElement("p",null,"Appearance")),r.a.createElement("div",{onClick:this.props.changeStats.bind(this,"connections"),style:"connections"===a?e:t,className:"stats"},r.a.createElement("p",null,"Connections")),r.a.createElement("div",{onClick:this.props.changeStats.bind(this,"powerStats"),style:"powerStats"===a?e:t,className:"stats last"},r.a.createElement("p",null,"Power Stats")))}}]),a}(n.Component);function C(e){var t={height:"100%",width:"".concat(2*e.status,"px"),background:"black",borderRadius:"5px 0px 0px 5px"};return r.a.createElement("div",{style:{width:"200px",height:"10px",background:"#fff",borderRadius:"5px",border:"solid 1px #fff"},className:"ProgressBar"},r.a.createElement("div",{style:e.status>98?{height:"100%",width:"198px",background:"black",borderRadius:"5px"}:t,className:"status"}))}var P=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.selected,t=this.props.hero.appearance,a=t.gender,n=t.height,s=t.race,l=t.weight,c=this.props.hero.image.url,o=this.props.hero.appearance["eye-color"],i=this.props.hero.appearance["hair-color"],m=this.props.hero.powerstats,u=m.combat,h=m.durability,p=m.intelligence,d=m.power,E=m.speed,g=m.strength,v=this.props.hero.work,f=v.base,b=v.occupation,w=this.props.hero.connections["group-affiliation"],N=this.props.hero.connections.relatives;return"appearance"===e?r.a.createElement("div",{className:"statContent"},r.a.createElement("h3",null,"Appearance"),r.a.createElement("div",{className:"appearanceGrid"},r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("span",{className:"stat"},"Eye Color: "),o),r.a.createElement("p",null,r.a.createElement("span",{className:"stat"},"Hair Color: "),i),r.a.createElement("p",null,r.a.createElement("span",{className:"stat"},"Height: "),"".concat(n[0]," - ").concat(n[1])),r.a.createElement("p",null,r.a.createElement("span",{className:"stat"},"Weight: "),"".concat(l[0]," - ").concat(l[1])),r.a.createElement("p",null,r.a.createElement("span",{className:"stat"},"Gender: "),a),r.a.createElement("p",null,r.a.createElement("span",{className:"stat"},"Race: "),s)),r.a.createElement("div",null,r.a.createElement("img",{src:c,alt:this.props.hero.name})))):"connections"===e?r.a.createElement("div",{className:"statContent"},r.a.createElement("h3",null,"Connections"),r.a.createElement("p",null,r.a.createElement("span",{className:"stat"},"Group Affiliations: "),w),r.a.createElement("p",null,r.a.createElement("span",{className:"stat"},"Relatives: "),N),r.a.createElement("p",null,r.a.createElement("span",{className:"stat"},"Work: "),f),r.a.createElement("p",null,r.a.createElement("span",{className:"stat"},"Occupation: "),b)):r.a.createElement("div",{className:"statContent"},r.a.createElement("h3",null,"Power Stats"),r.a.createElement("div",{className:"grid"},r.a.createElement("div",{className:"item"},r.a.createElement("p",null,r.a.createElement("span",{className:"stat"},"Combat: "),u,"%"),r.a.createElement(C,{status:parseInt(u)}),r.a.createElement("p",null,r.a.createElement("span",{className:"stat"},"Durability: "),h,"%"),r.a.createElement(C,{status:parseInt(h)})),r.a.createElement("div",{className:"item"},r.a.createElement("p",null,r.a.createElement("span",{className:"stat"},"intelligence: "),p,"%"),r.a.createElement(C,{status:parseInt(p)}),r.a.createElement("p",null,r.a.createElement("span",{className:"stat"},"Power: "),d,"%"),r.a.createElement(C,{status:parseInt(d)})),r.a.createElement("div",{className:"item"},r.a.createElement("p",null,r.a.createElement("span",{className:"stat"},"Speed: "),E,"%"),r.a.createElement(C,{status:parseInt(E)}),r.a.createElement("p",null,r.a.createElement("span",{className:"stat"},"Strength: "),g,"%"),r.a.createElement(C,{status:parseInt(g)}))))}}]),a}(n.Component),M=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).addToFavorites=function(t,a,n,r){var s=JSON.parse(window.localStorage.getItem("favorites"))||[];if(s.filter((function(e){return e.id===a})).length>0)e.props.showModal("You already liked this character");else{var l={name:t,id:a,publisher:n,image:r};s.push(l),window.localStorage.setItem("favorites",JSON.stringify(s)),e.props.showModal("".concat(t," was added to your favorites"))}},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props.hero,a=t.image,n=t.name,s=t.id,l=this.props.hero.biography,c=l.publisher,o=l["alter-egos"],i=l["place-of-birth"],m=l["full-name"];return r.a.createElement("div",{className:"singleHeroBanner"},r.a.createElement("div",{className:"singleImage"},r.a.createElement("img",{src:a.url,alt:n})),r.a.createElement("div",{className:"stats"},r.a.createElement("button",{className:"addToFavorites",onClick:this.addToFavorites.bind(this,n,s,c,a.url)},r.a.createElement(g.a,{className:"icon",icon:v.b}),"Add to Favorites"),r.a.createElement("h2",null,n),r.a.createElement("p",null,r.a.createElement("span",{className:"statsBold"},"Full Name:")," ",m),r.a.createElement("p",null,r.a.createElement("span",{className:"statsBold"},"Aliases:")," ",function(){var t=e.props.hero.biography.aliases;return t?1===t.length?t[0]:2===t.length?"".concat(t[0]," and ").concat(t[1]):3===t.length?"".concat(t[0],", ").concat(t[1]," and ").concat(t[2]):t.length>3?t.map((function(e,a){return a<t.length-3?"".concat(e,", "):a<t.length-2?"".concat(e," and "):a<t.length-1?"".concat(e):void 0})):void 0:" - "}()),r.a.createElement("p",null,r.a.createElement("span",{className:"statsBold"},"Alter Egos:")," ",o),r.a.createElement("p",null,r.a.createElement("span",{className:"statsBold"},"Place of Birth:")," ",i)))}}]),a}(r.a.Component),x=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.fetchData()},n.showModal=function(e){n.setState({showModal:!0,modalMessage:e}),n.closeModal()},n.closeModal=function(){window.setTimeout((function(){n.setState({showModal:!1})}),1500)},n.changeStats=function(e){n.setState({selected:e})},n.state={isLoading:!0,errMess:"",data:{},showModal:!1,modalMessage:"",selected:"appearance"},n}return Object(o.a)(a,[{key:"fetchData",value:function(){var e=this,t=this.props.match.params.heroId;console.log(t);fetch("https://www.superheroapi.com/api.php/".concat("3036462383041704","/").concat(t)).then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({data:t,isLoading:!1}),console.log(e.state)})).catch((function(t){e.setState({isLoading:!1,errMess:"Oops, something's not right"})}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(p,null),this.state.isLoading?r.a.createElement(b,null):r.a.createElement(M,{showModal:this.showModal,hero:this.state.data}),r.a.createElement(k,{selected:this.state.selected,changeStats:this.changeStats}),this.state.isLoading?r.a.createElement(b,null):r.a.createElement(P,{selected:this.state.selected,hero:this.state.data}),this.state.showModal?r.a.createElement(j,{message:this.state.modalMessage}):null)}}]),a}(n.Component),D=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).removeFavorite=function(e){console.log("removing favorite");var t=JSON.parse(window.localStorage.getItem("favorites")).filter((function(t){return t.id!==e}));window.localStorage.setItem("favorites",JSON.stringify(t)),n.setState({showModal:!0,favorites:JSON.parse(window.localStorage.getItem("favorites"))}),n.closeModal()},n.closeModal=function(){window.setTimeout((function(){n.setState({showModal:!1})}),1500)},n.state={favorites:[],showModal:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.setState({favorites:JSON.parse(window.localStorage.getItem("favorites"))})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p,null),this.state.favorites.length>0?null:r.a.createElement("div",{className:"message"},"You have no favorites saved"),r.a.createElement("main",{className:"cardContainer"},this.state.favorites.length>0?this.state.favorites.map((function(t){return r.a.createElement(f,{key:t.id,name:t.name,id:t.id,isFavorite:!0,publisher:t.publisher,removeFavorite:e.removeFavorite,image:t.image})})):null,this.state.showModal?r.a.createElement(j,{message:"Character removed from your favorites"}):null))}}]),a}(n.Component);function I(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Oops! This page doesn't exist"))}var B=a(11),F=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(B.c,null,r.a.createElement(B.a,{exact:!0,path:"/",component:S}),r.a.createElement(B.a,{path:"/hero/:heroId",component:x}),r.a.createElement(B.a,{path:"/favorites",component:D}),r.a.createElement(B.a,{path:"*",component:I})))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[27,1,2]]]);
//# sourceMappingURL=main.dc28299d.chunk.js.map